<div
  class="bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 h-full flex flex-col"
>
  @if(post.media) { @if (post.media.type.startsWith('video')) {
  <video
    [src]="post.media.url"
    class="w-full h-48 object-cover"
    controls
    muted
  ></video>
  } @else if(post.media.type.startsWith('img')) {
  <img
    [src]="post.media.url"
    [alt]="post.title"
    class="w-full h-48 object-cover"
  />} }

  <div class="p-6 flex flex-col flex-grow">
    <div class="mb-4">
      <span class="text-sm text-gray-500">{{
        post.publishedAt | friendlyDate
      }}</span>
    </div>

    <h2 class="text-xl font-bold text-gray-800 hover:text-blue-600 flex-grow">
      <a [routerLink]="['/post', post.id]">{{ post.title }}</a>
    </h2>

    @if (!post.media) {
    <p class="text-gray-600">{{ post.content }}</p>
    }

    <p class="text-gray-600 my-4">
      Por:
      <a
        [routerLink]="['/user', post.author.userId]"
        class="font-semibold hover:underline"
        >{{ post.author.displayName }}</a
      >
    </p>

    <div
      class="flex justify-between text-sm text-gray-500 border-t pt-4 mt-auto"
    >
      <span>👁️ {{ post.stats.viewsCount }}</span>
      <span>❤️ {{ post.stats.likesCount }}</span>
      <span>💬 {{ post.stats.commentsCount }}</span>
    </div>
  </div>
</div>
